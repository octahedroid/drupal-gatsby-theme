import { Meta, Story, ArgsTable, Canvas } from "@storybook/addon-docs/blocks"
import { GatsbyImage } from "gatsby-plugin-image"
import Image from "."
import data from "../../data.json"

export const mockGatsbyImg = {
  alt: data.nodes[0].name,
  fluid: data.nodes[0].featuredImage.node.localFile.childImageSharp.fluid,
}

export const image =
  data.nodes[0].featuredImage.node.localFile.childImageSharp.gatsbyImageData

<Meta title='components/Image' component={Image} />

# Image

Use this component to insert an image.

## Props

<ArgsTable of={Image} />

### Default GatsbyImage

<Canvas>
  <Story name='Default GatsbyImage'>
    <GatsbyImage image={image} alt='some alt text' />
  </Story>
</Canvas>

### Default

<Canvas>
  <Story name='Default'>
    <Image
      image={{
        src: "https://placeimg.com/640/480/any",
        alt: "tech related stuff",
      }}
    />
  </Story>
</Canvas>

### Avatar

<Canvas>
  <Story name='Avatar'>
    <Image
      variant='avatar'
      image={{
        src: "https://placeimg.com/240/240/people",
        alt: `someone's avatar`,
      }}
    />
  </Story>
</Canvas>

### With Caption

<Canvas>
  <Story name='With Caption'>
    <Image
      image={{
        src: "https://placeimg.com/640/480/any",
        alt: "tech related stuff",
      }}
      caption="A caption with a <a href='/'>link</a>"
    />
  </Story>
</Canvas>

### With Gatsby Image

<Canvas>
  <Story name='Gatsby Img base64'>
    <Image
      variant='avatar'
      image={mockGatsbyImg}
      caption="A caption with a <a href='/'>link</a>"
    />
  </Story>
</Canvas>
