import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks"
import { withA11y } from "@storybook/addon-a11y"
import { Box } from "theme-ui"
import Grid from "."

export const GenerateColumns = ({ count }) => {
  return (
    <>
      {Array.from({ length: count }, (item, index) => {
        const colors = ["#DDD", "#CCC", "#FFF"]
        return (
          <Box
            key={index}
            __css={{ backgroundColor: colors[index % 3], p: "small" }}
          >
            Column {index + 1}
          </Box>
        )
      })}
    </>
  )
}

<Meta title='components/Grid' component={Grid} />

# Grid

There are two ways of setting up the Grid:

- With the prop `columns` you can set a specified amount of equally sized columns.
- With the prop `proportion` you can set columns with a set proportion. E.g: `'1:2:1'` will yield 3 columns with widths 25%, 50%, 25% respectively.

The `Grid.Column` is just needed if you want to set an element to span more than one column or row.

All properties accept arrays to establish specific values for the ThemeUI breakpoints.

## Props

<Props of={Grid} />

### Default

By default the component accepts a single number for the `columns` prop. This is the amount of columns
the grid will have from the third breakpoint onwards. The first and second breakpoint will have 1 column
and two columns respectively.

<Preview>
  <Story name='Default'>
    <Grid columns={3}>
      <GenerateColumns count={6} />
    </Grid>
  </Story>
</Preview>

### Static column number

If you want to set a single column number for all the breakpoints, pass the value inside an array.
This will place it for the first breakpoint, and since there are no other declarations, it will
apply for the next breakpoints as well.

<Preview>
  <Story name='Static column number'>
    <Grid columns={[2]}>
      <GenerateColumns count={6} />
    </Grid>
  </Story>
</Preview>

### Different proportions

You can set a proportion for the columns using the following format `2:1`, which means
the first column will a ratio of two to one

<Preview>
  <Story name='Different proportions'>
    <Grid proportion={"2:1"}>
      <GenerateColumns count={6} />
    </Grid>
  </Story>
</Preview>

### Different columns based on Breakpoints

<Preview>
  <Story name='Different columns based on Breakpoints'>
    <Grid columns={["2", "1", "3"]}>
      <GenerateColumns count={6} />
    </Grid>
  </Story>
</Preview>

### Different proportion based on Breakpoints

<Preview>
  <Story name='Different proportion based on Breakpoints'>
    <Grid proportion={["2:1", "1:2:1", "1:1:2"]}>
      <GenerateColumns count={6} />
    </Grid>
  </Story>
</Preview>

### Item spanning multiple rows

<Preview>
  <Story name='Item spanning multiple rows'>
    <Grid proportion={["2:1", "1:2:1", "1:1:2"]}>
      <Grid.Column rows={2} sx={{ bg: "lightblue" }}>
        Multiple Rows
      </Grid.Column>
      <GenerateColumns count={5} />
    </Grid>
  </Story>
</Preview>

### Item spanning multiple rows based on breakpoints

<Preview>
  <Story name='Item spanning multiple rows based on breakpoints'>
    <Grid proportion={["2:1", "1:2:1", "1:1:2"]}>
      <Grid.Column rows={[3, 2, 1]} sx={{ bg: "lightblue" }}>
        Multiple Rows
      </Grid.Column>
      <GenerateColumns count={5} />
    </Grid>
  </Story>
</Preview>

### Item spanning multiple columns

<Preview>
  <Story name='Item spanning multiple columns'>
    <Grid proportion={["2:1", "1:2:1", "1:1:2"]}>
      <Grid.Column columns={2} sx={{ bg: "lightblue" }}>
        Multiple Columns
      </Grid.Column>
      <GenerateColumns count={5} />
    </Grid>
  </Story>
</Preview>
